<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Шпаргалка з фінансового аналізу, облігацій та кредитів</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']],
                processEscapes: true,
                packages: ['base', 'ams', 'noerrors', 'noundefined'],
                tags: 'ams',
                macros: {
                    '\\RR': '\\mathbb{R}',
                    '\\NN': '\\mathbb{N}',
                    '\\ZZ': '\\mathbb{Z}',
                    '\\QQ': '\\mathbb{Q}',
                    '\\CC': '\\mathbb{C}'
                }
            },
            options: {
                enableMenu: true,
                menuOptions: {
                    settings: {
                        texHints: true,
                        semantics: true,
                    }
                }
            },
            chtml: {
                scale: 1.1,
                minScale: 0.5,
                mtextInheritFont: true,
                merrorInheritFont: true,
                mathmlSpacing: false,
                skipAttributes: {}
            }
        };

        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`.nav-btn.${sectionId}`).classList.add('active');
        }

        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetElement = document.querySelector(this.getAttribute('href'));
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                });
            });

            const collapsibleContainers = document.querySelectorAll('.question, .formula-section, .bonds-section, .credit-topic, .introduction-topic, .forward-topic');

            collapsibleContainers.forEach(container => {
                const header = container.querySelector('h3');
                if (!header) return;

                const contentElements = [];
                let currentElement = header.nextElementSibling;
                while (currentElement) {
                    contentElements.push(currentElement);
                    currentElement = currentElement.nextElementSibling;
                }

                if (contentElements.length > 0) {
                    const contentWrapper = document.createElement('div');
                    contentWrapper.classList.add('topic-content');
                    contentElements.forEach(el => contentWrapper.appendChild(el));
                    
                    if (header.nextSibling) {
                        container.insertBefore(contentWrapper, header.nextSibling);
                    } else {
                        container.appendChild(contentWrapper);
                    }

                    contentWrapper.style.display = 'none';
                    header.classList.add('collapsed');
                    header.style.cursor = 'pointer'; 

                    header.addEventListener('click', function() {
                        const isCollapsed = contentWrapper.style.display === 'none';
                        contentWrapper.style.display = isCollapsed ? 'block' : 'none';
                        header.classList.toggle('collapsed', !isCollapsed);
                        header.classList.toggle('expanded', isCollapsed);
                    });
                }
            });
        });
    </script>
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #e67e22;
            --bonds-color: #27ae60;
            --credit-color: #8e44ad;
            --text-color: #333;
            --background-color: #f5f7fa;
            --container-bg: white;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Times New Roman', serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background: linear-gradient(135deg, var(--background-color) 0%, #c3cfe2 100%);
            color: var(--text-color);
        }

        .container {
            background: var(--container-bg);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 40px;
            font-size: 2.5em;
        }

        h2 {
            color: #34495e;
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 10px;
            margin-top: 40px;
            font-size: 1.8em;
        }

        h3 {
            color: #2980b9;
            margin-top: 30px;
            font-size: 1.3em;
        }
        
        .question > h3, .formula-section > h3, .bonds-section > h3, .credit-topic > h3, .introduction-topic > h3, .forward-topic > h3 {
             cursor: pointer;
        }

        h3.collapsed::after {
            content: ' ▼'; 
            font-size: 0.8em;
            margin-left: 5px;
            color: var(--primary-color);
        }

        h3.expanded::after {
            content: ' ▲';
            font-size: 0.8em;
            margin-left: 5px;
            color: var(--primary-color);
        }
        
        .bonds-section > h3.collapsed::after, .bonds-section > h3.expanded::after {
            color: var(--bonds-color);
        }
        .credit-topic > h3.collapsed::after, .credit-topic > h3.expanded::after {
            color: var(--credit-color);
        }
         .formula-section > h3.collapsed::after, .formula-section > h3.expanded::after {
            color: var(--secondary-color);
        }
        .introduction-topic > h3.collapsed::after, .introduction-topic > h3.expanded::after {
            color: var(--primary-color);
        }
        .forward-topic > h3.collapsed::after, .forward-topic > h3.expanded::after {
            color: var(--secondary-color);
        }

        .topic-content {
            padding-left: 20px; 
            margin-top: 10px;
            border-left: 2px solid #eee;
            animation: fadeInContent 0.3s ease-in-out;
        }

        @keyframes fadeInContent {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 12px 25px;
            font-size: 1.1em;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            min-width: 180px;
        }

        .nav-btn.introduction {
            background: linear-gradient(135deg, var(--primary-color), #2980b9);
            color: white;
        }

        .nav-btn.forward {
            background: linear-gradient(135deg, var(--secondary-color), #d35400);
            color: white;
        }

        .nav-btn.bonds {
            background: linear-gradient(135deg, var(--bonds-color), #229954);
            color: white;
        }
        
        .nav-btn.credits {
            background: linear-gradient(135deg, var(--credit-color), #7d3c98);
            color: white;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .nav-btn.active {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .content-section {
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .content-section.active {
            display: block;
            opacity: 1;
            animation: fadeIn 0.5s ease-in;
        }

        .question {
            background: linear-gradient(90deg, #ebf8ff 0%, #f0f9ff 100%);
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid var(--primary-color);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.1);
        }

        .introduction-topic {
            background: linear-gradient(90deg, #ebf8ff 0%, #f0f9ff 100%);
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid var(--primary-color);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.1);
        }

        .forward-topic {
            background: linear-gradient(90deg, #fff5f5 0%, #fef5e7 100%);
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid var(--secondary-color);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(230, 126, 34, 0.1);
        }

        .bonds-section {
            background: linear-gradient(90deg, #e8f5e8 0%, #f0fff0 100%);
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid var(--bonds-color);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.1);
        }
        
        .credit-topic {
            background: linear-gradient(90deg, #f4e8f7 0%, #fdf6ff 100%);
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid var(--credit-color);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(142, 68, 173, 0.1);
        }

        .formula-section {
            background: linear-gradient(90deg, #fff5f5 0%, #fef5e7 100%);
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid var(--secondary-color);
            border-radius: 10px;
        }

        .formula {
            background: #f8f9fa;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
            border: 2px solid #e9ecef;
            text-align: center;
            overflow-x: auto;
        }

        ul {
            padding-left: 20px;
            list-style-type: none;
        }

        li {
            margin: 8px 0;
            position: relative;
            padding-left: 15px;
        }

        li:before {
            content: "•";
            color: var(--primary-color);
            position: absolute;
            left: 0;
            font-weight: bold;
        }
        
        .bonds-section li:before {
            color: var(--bonds-color);
        }
        .credit-topic li:before {
            color: var(--credit-color);
        }
        .forward-topic li:before {
            color: var(--secondary-color);
        }

        .definition, .example, .note, .important {
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
        }

        .definition {
            background: #e8f5e8;
            border-left: 4px solid #28a745;
        }

        .example {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
        }

        .note {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            font-style: italic;
        }

        .important {
            background: #ffe6e6;
            border-left: 4px solid #dc3545;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            body { padding: 10px; }
            .container { padding: 15px; }
            h1 { font-size: 2em; }
            h2 { font-size: 1.5em; }
            h3 { font-size: 1.2em; }
            .nav-btn { width: 100%; margin: 5px 0; }
            .question, .formula-section, .bonds-section, .credit-topic, .introduction-topic, .forward-topic { padding: 15px; }
            .MathJax_Display { font-size: 0.9em !important; }
            .formula { padding: 10px; margin: 10px 0; }
        }

        .MathJax { font-size: 1.1em !important; }
        .MathJax_Display {
            margin: 1em 0 !important;
            text-align: center !important;
            overflow-x: auto;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .formula { animation: formulaFadeIn 0.5s ease-out; }
        @keyframes formulaFadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>📊 Шпаргалка з фінансового аналізу, облігацій та кредитів</h1>
        
        <div class="nav-buttons">
            <button class="nav-btn introduction active" onclick="showSection('introduction')">📚 Вступ</button>
            <button class="nav-btn forward" onclick="showSection('forward')">🔄 Форвардні ставки та імунізація</button>
            <button class="nav-btn bonds" onclick="showSection('bonds')">💰 Облігації</button>
            <button class="nav-btn credits" onclick="showSection('credits')">💳 Кредити</button>
        </div>
        
        <!-- INTRODUCTION SECTION -->
        <div id="introduction" class="content-section active">
            <h2>📚 Вступ</h2>
            
            <div class="introduction-topic">
                <h3>Вiдсотки</h3>
                <p>Загальновiдомо, що грошi змiнюють свою вартiсть з часом, причому, як правило у бiк зменшення вартостi. Видiляють декiлька факторiв, якi впливають на зменшення вартостi грошей у часi:</p>
                <ul>
                    <li>Психологiчнi, споживання зараз спричиняє бiльше задоволення, нiж вiдкладання споживання на майбутнє.</li>
                    <li>Ризики вiд вiдкладеного споживання.</li>
                    <li>Iнфляцiя.</li>
                </ul>
                <p>Як вимiрюють змiну вартостi грошей. Це робиться за допомогою вiдстокової ставки. Якi бувають вiдсотковi ставки, та як ними вимiрювати вартiсть грошей? Найпростiший пiдхiд, це зафiксувати сталу ставку i i нараховувати простi або складнi вiдсотки. Простi вiдсотки нараховуються за формулою:</p>
                <div class="formula">\( 1 + it \)</div>
                <p>складнi за формулою:</p>
                <div class="formula">\( (1 + i)^t \)</div>
                <p>Як правило, при нарахуваннi вiдсоткiв, необхiдно зафiксувати базовий перiод, i це як правило, один рiк. Якщо вiдсотки нараховуються за схемою складних вiдсоткiв, i за рiк нараховується i вiдсоткiв на 1 гривню, то i називають ефективною вiдсотковою ставкою.</p>
                <p>Оскiльки iнодi виникають ситуацiї, коли вiдсоткова ставка не є сталою, то необхiдно розробити бiльш гнучку теорiю, для аналiзу таких ситуацiй. Для цього вводять поняття номiнальної вiдсоткової ставки.</p>
                <p>Розглянемо ситуацiю, коли в банк вноситься 1000 грн. пiд 12% рiчних. Скiльки буде нараховано за мiсяць? Це буде \( 1000 \cdot (1 + i)^{1/12} \), а чистi вiдсотки складуть ≈ 9.49 грн.</p>
                <p>Нехай t - деякий момент часу, а h - деякий перiод часу, тодi номiнальною вiдсотковою ставкою на промiжку (t, t + h] називається величина \( i_h(t) \) така, що накопичення одиничної сума на iнтервалi (t, t + h] складає \( 1 + hi_h(t) \).</p>
                
                <div class="example">
                    <strong>Приклад:</strong> Нехай \( i_h(t) \) - стала, та h = 1/2, тобто половинi року, або 6 мiсяцям. Тодi накопичення на iнтервалi (0, 0.5] складатиме \( 1 + \frac{1}{2}i_{1/2} \), а якщо використовується схема складних вiдсоткiв, то накопичення за рiк складає: \( (1+ \frac{1}{2}i_{1/2})^2 \). Якщо задана ефективна ставка i, скажiмо i = 0.08, то матимемо спiввiдношення:
                    \[ 1 + i = \left(1 + \frac{1}{2}i_{1/2}\right)^2 \]
                    звiдки можемо виразити \( i_{1/2} \) через i:
                    \[ i_{1/2} = 2((1 + i)^{1/2} - 1) \approx 0.0785 \]
            </div>
            </div>

            <div class="introduction-topic">
                <h3>Принцип узгодженостi</h3>
                <p>Нехай маємо загальну ситуацiю. Нехай накопичення одиничної суми на iнтервалi (s, t] складає A(s, t). Ми вважаємо, що накопичення здiйснюється вiдповiдно до схеми складних вiдсоткiв (тут немає вiдсоткiв, мається на увазi, що здiйснюється накопичення на накопичення).</p>
                <p>Якщо \( A(s, t) = (1 + i)^{t-s} \) то маємо звичайну модель складних вiдсоткiв. Для складних вiдсоктiв неважливо як розбивати iнтервал (s, t] з подальшим перевкладанням.</p>
                <p>Нехай s < u < t, тодi: \( A(s, u) = (1 + i)^{u-s} \) - це накопичення за час (s, u] (одиничної суми!) а \( A(u, t) = (1 + i)^{t-u} \) - накопичення одиничної суми за час (u, t]. Тодi з одного боку накопичення одиничної суми за весь перiод (s, t] рiвне \( A(s, t) = (1 + i)^{t-s} \) згiдно з визаначення A а з iншого боку, якщо розбити перiод (s, t] на (s, u] та (u, t], тодi загальне накопичення буде \( A(s, u)A(u, t) = (1 + i)^{u-s}(1 + i)^{t-u} = (1 + i)^{t-u+u-s} = (1 + i)^{t-s} = A(s, t) \).</p>
                <p>Будемо говорити, що A(s, t) (тепер уже в загальному випадку) задовiльняє принципу узгодженостi, якщо \( A(s, u)A(u, t) = A(s, t) \) для довiльних s < u < t.</p>
            </div>

            <div class="introduction-topic">
                <h3>Iнтенсивнiсть вiдсотка</h3>
                <p>Позначимо \( f(t) = A(0, t) \). Нехай h - деякий малий промiжок часу. Тодi:</p>
                <div class="formula">\( A(0, t + h) = A(0, t)A(t, t + h) = A(0, t)(1 + hi_h(t)) \)</div>
                <p>тому що, якщо h дуже малий перiод часу, то ми можемо вважати, що накопичення \( A(t, t + h) \approx 1 + hi_h(t) \). Тодi:</p>
                <div class="formula">\( f(t + h) = f(t)(1 + hi_h(t)) \)</div>
                <div class="formula">\( \frac{f(t + h) - f(t)}{h} = f(t)i_h(t) \)</div>
                <p>перейдемо тепер до границi при h → 0:</p>
                <div class="formula">\( \lim_{h \to 0} \frac{f(t + h) - f(t)}{h} = f(t) \lim_{h \to 0} i_h(t) \)</div>
                <p>Величина \( \lim_{h \to 0} i_h(t) \) називається iнтенсивнiстю або силою вiдсотка, та позначається \( \delta(t) \). Припустивши, що A(s, t) - непервно-диференцiйовна (а отже такою є i f),</p>
                <div class="formula">\( f'(t) = f(t)\delta(t) \)</div>
                <p>i окрiм того \( f(0) = 1 \).</p>
                <div class="formula">\( \frac{df}{dt} = f\delta \)</div>
                <div class="formula">\( \frac{df}{f} = \delta(t)dt \)</div>
                <p>Iнтегруючи обидвi частини:</p>
                <div class="formula">\( \ln(f) = \int_0^t \delta(s)ds + C \)</div>
                <div class="formula">\( f(t) = C_1 e^{\int_0^t \delta(s)ds} \)</div>
                <p>скориставшись початковою умовою f(0) = 1, отримаємо \( C_1 = 1 \). Отже:</p>
                <div class="formula">\( f(t) = \exp\left(\int_0^t \delta(s)ds\right) \)</div>
                <p>Тепер можемо вiдтворити A(s, t):</p>
                <div class="formula">\( A(s, t) = \frac{f(t)}{f(s)} = \exp\left(\int_s^t \delta(u)du\right) \)</div>
                <p>Якщо δ = δ(s) - стала, то накопичення на iнтревалi (0, t]:</p>
                <div class="formula">\( A(0, t) = e^{\delta t} = (1 + i)^t \)</div>
                <p>звiдки маємо спiввiдношення:</p>
                <div class="formula">\( e^\delta = 1 + i \)</div>
            </div>

            <div class="introduction-topic">
                <h3>Дисконтування та грошовi потоки</h3>
                <p>Розглянемо задачу, надходження коштiв розмiром \( C_1, \ldots, C_n \) в моменти часу \( t_1, \ldots, t_n \). Виникає питання, скiльки треба заплатити зараз, щоб отримати цi кошти, або скiльки коштують цi виплати сьогоднi? Нехай маємо ефективну ставку i, тодi можемо записати так: нехай ми iнвестували суму C на початку (це i є наша "справедлива" цiна) i нарахування складних вiдсоткiв та ефективною ставкою i "покриває" цей потiк платежiв. Вважаємо \( t_1 < t_2 \ldots < t_n \):</p>
                <div class="formula">\( (((C(1 + i)^{t_1} - C_1)(1 + i)^{t_2-t_1} - C_2) \ldots)(1 + i)^{t_n-t_{n-1}} - C_n = 0 \)</div>
                <p>Можна мiркувати iншим чином. Розглянемо суму \( D_t \) в момент часу t, скiльки ця сума коштує зараз, якщо задана ефективна вiдсоткова ставка i? Нехай зараз ця сума коштує \( D_0 \). Тодi маємо:</p>
                <div class="formula">\( D_0(1 + i)^t = D_t \)</div>
                <div class="formula">\( D_0 = \frac{D_t}{(1 + i)^t} \)</div>
                <p>Таким чином, ми маємо можливiсть обчислювати "теперiшню" вартiсть майбутнiх сум за допомогою формули \( D_t(1 + i)^{-t} \), цей процес (множення суми на \( (1+i)^{-t} \)) називається дисконтуванням, а величина \( \nu = \frac{1}{1+i} \) називається дисконтним множником, i сума \( D_t\nu^t \) називається сучасною вартiстю суми \( D_t \) що надiйшла в момент часу t.</p>
                <p>Якщо застосувати пiдхiд заснований на дисконтуваннi, то ми можемо обчислити, скiльки коштуватиме зараз кожна iз сум \( C_1, \ldots, C_n \). Тодi сучасна вартiсть кожної виплати рiвна:</p>
                <div class="formula">\( (C_1\nu^{t_1}, C_2\nu^{t_2}, \ldots, C_n\nu^{t_n}) \)</div>
                <p>тодi</p>
                <div class="formula">\( C = \sum_{k=1}^n C_k\nu^{t_k} \)</div>
            </div>

            <div class="introduction-topic">
                <h3>Дискретнi та неперервнi грошовi потоки</h3>
                <p>Дискретним грошовим потоком називається набiр платежiв \( \{C_1, \ldots, C_n, \ldots\} \) (можливо нескiнченний) якi надохдять у моменти часу \( \{t_1 \leq t_2 \leq \ldots \leq t_n \leq \ldots\} \). Сучасною вартiстю грошового потоку називається величина:</p>
                <div class="formula">\( PV = \sum_{k=1}^{\infty} C_k \exp\left(-\int_0^{t_k} \delta(u)du\right) \)</div>
                <p>якщо ефективна вiдсоткова ставка стала, та рiвна i, то</p>
                <div class="formula">\( PV = PV(i) = \sum_{k=1}^{\infty} C_k\nu^{t_k} = \sum_{k=1}^{\infty} C_k(1 + i)^{-t_k} \)</div>
                <p>Рiвнянням вартостей дискретного грошового потоку, називають рiвняння:</p>
                <div class="formula">\( PV = 0 \)</div>
                
                <div class="example">
                    <strong>Приклад:</strong> Нехай iнвестовано суму C = 2000000 грн. у купiвлю нерухомостi, яка генерує 20000 грн прибутку на мiсяць, через три роки нерухомiсть продається за 1500000. Якою є вiдсоткова ставка, що вiдповiдає цьому грошовому потоку?<br><br>
                    Грошовий потiк має вигляд (у тис. грн.): {−2000, +20, ..., +20, +1500}, {0, 1/12, 2/12, ..., 3, 3}. Розв'язуючи рiвняння вартостей, отримуємо ν = 0.9593069, i = 1/ν − 1 = 0.04241927.
            </div>
            </div>

            <div class="introduction-topic">
                <h3>Неперервнi грошовi потоки</h3>
                <p>Функцiя ρ : R → R називається iнтенсивнiстю платежiв, або iнтенсивнiстю грошового потоку, якщо сума, що надходить на промiжку часу [s, t), s < t рiвна:</p>
                <div class="formula">\( S(s, t) = \int_s^t \rho(u)du \)</div>
                <p>Iншими словами в момент часу t надходить сума ρ(t)dt.</p>
                <p>Носiєм функцiї ρ назвемо множину supp(ρ) = {x ∈ R | ρ(x) ≠ 0}. Ми вважатимемо, що функцiя ρ неперервна на своєму носiїї, що носiй складається зi скiнченого набору iнтервалiв [ak, bk], ak < bk ≤ ∞, i що на кожному iнтервалi функцiя має сталий знак.</p>
                <p>Тодi кiлькiсть грошей в момент t (отриманих на промiжку [0,t]), описується iнтегралом:</p>
                <div class="formula">\( S_t = S(0, t) = \int_0^t \rho(u)du \)</div>
                <p>за такої конструкцiї \( \rho(t) = S_t' \).</p>
                <p>Щоб обчислити сучасну вартiсть виплати в момент часу t треба помножити розмiр виплати (тобто ρ(t)dt) на дисконтний множник \( \nu^t \), тодi загальна сучасна вартiсть вийде:</p>
                <div class="formula">\( PV_t(i) = \int_0^t \nu^u\rho(u)du = \int_0^t \frac{\rho(u)}{(1 + i)^u}du \)</div>
                <p>Якщо вiдсоток задано за допомого сили вiдсотка δ(t), як тодi рахувати сучасну вартiсть неперервного грошового потоку?</p>
                <div class="formula">\( PV_t(i) = \int_0^t \nu(u)\rho(u)du = \int_0^t \exp\left(-\int_0^u \delta(s)ds\right)\rho(u)du \)</div>
            </div>

            <div class="introduction-topic">
                <h3>Ануїтети</h3>
                <p>Ануїтетом називається грошовий потiк у якому розмiр виплати та час виплати розраховують за наперед заданим правилом.</p>
                <p>Стандартним сталим ануїтетом постнумерандо (iз заборгованiстю) на n рокiв називають грошовий потiк у якому щороку, наприкiнцi року сплачують 1, протягом n рокiв.</p>
                <p>Стандартним сталим ануїтетом пренумерандо (авансовим) на n рокiв називають грошовий потiк у якому щороку, на початку року сплачують 1, протягом n рокiв.</p>
                <p>Чому дорiвнює сучасна вартiсть таких грошових потокiв? Розглянемо спочатку ануїтет постнумерандо. Йому вiдповiдає грошовий потiк: \( C_1 = 1, \ldots, C_n = 1, t_1 = 1, t_2 = 2, \ldots, t_n = n \). Його сучасна вартiсть:</p>
                <div class="formula">\( PV = \nu + \nu^2 + \ldots + \nu^n = \sum_{k=1}^n \nu^k = \nu\frac{1 - \nu^n}{1-\nu} = \frac{1 - \nu^n}{i} \)</div>
                <p>Для сучасних вартостей ануїтетiв iснують спецiальнi позначення. Для сучасної вартостi стандартного стало ануїтету постнумерандо використовують позначення \( a_n \). Тодi</p>
                <div class="formula">\( a_n = a_n(i) = \frac{1 - \nu^n}{i} \)</div>
                <p>Для сучасної вартостi стандартного стало ануїтету пренумерандо використовують символ \( \ddot{a}_n \).</p>
                <div class="formula">\( \ddot{a}_n = \ddot{a}_n(i) = 1 + \nu + \ldots + \nu^{n-1} = \frac{1 - \nu^n}{1-\nu} = \frac{1 - \nu^n}{d} \)</div>
            </div>
            </div>

        <!-- FORWARD AND IMMUNIZATION SECTION -->
        <div id="forward" class="content-section">
            <h2>🔄 Форвардні ставки та імунізація</h2>
            
            <div class="forward-topic">
                <h3>Мотивацiя форвардних ставок</h3>
                <p>Основна iдея полягає у наступному. Уявiмо, що через рiк ми отримаємо 1 грн. Пiсля цього ми захочемо його iнвестувати. Як нам зафiсксувати вiдсоткову ставку сьогоднi? I що це буде за ставка? Тут мова йде про безризикове iнвестування, або iнвестування з мiнiмальним ризиком.</p>
                <p>Нехай \( r_1 \) це вiдсоткова ставка по однорiчнiй безкупоннiй облiгацiї. А \( r_2 \) - аналогiчна вiдсоткова ставка по дворiчнiй облiгацiї.</p>
                <p>Тодi ми позичимо кiлькiсть \( \frac{1}{1 + r_1} \) першої облiгацiї та купимо на них других. Тодi через рiк, ми повиннi повернути суму \( \frac{1}{1+r_1} \cdot \frac{1+r_1}{1} = 1 \), як ми повертаємо з нашого очiкуваного доходу в 1. Через два роки ми отримаємо дохiд по другiй облiгацiї розмiром \( \frac{(1+r_2)^2}{1+r_1} \). Тодi наша ефективна ставка на iнтервалi [1, 2] рiвна:</p>
                <div class="formula">\( f_{1,2} = \frac{(1 + r_2)^2}{1 + r_1} - 1 \)</div>
            </div>

            <div class="forward-topic">
                <h3>Формальне визначення форвардних ставок</h3>
                <p>Нехай \( P_n \) - це цiна облiгацiї одинчного номiналу, без купонiв, строком на n рокiв яка погашається за номiналом. Чому рiвна прибутковiсть такої облiгацiї? Позначимо прибутковiсть через \( r_n \), тодi</p>
                <div class="formula">\( P_n = (1 + r_n)^{-n} \)</div>
                <p>звiдки</p>
                <div class="formula">\( r_n = P_n^{-1/n} - 1 \)</div>
                <p>Тодi величина \( r_n \) - називається спотовою ставкою. Очевидно, що на ринку торгуються також iншi облiгацiї, i прибутковiсть мiж ними має бути узгоджена.</p>
                <p>Розглянемо облiгацiю яка купується продається за номiналом i запезпечує купоннi виплати розмiром g, раз на рiк. Очевидно прибутковiсть такої облiгацiї рiвна g. Назвемо цю величину n-рiчним номiнальним доходом i позначимо \( y_c^n \). Очевидно, що \( y_c^n \) має бути пов'язаним з \( r_n \).</p>
                <p>Подiбну n рiчну облiгацiю (з купоном) можна представити у виглядi n безкупонних облiгацiй номiналом \( y_c^n \) та одну безкупонну облiгацiю номiналом 1. Маємо грошовий потiк прибуткiв:</p>
                <ul>
                    <li>1-ий рiк \( y_c^n \)</li>
                    <li>2-ий рiк \( y_c^n \)</li>
                    <li>3-iй рiк \( y_c^n \)</li>
                    <li>...</li>
                    <li>n-ий рiк \( y_c^n \) та 1</li>
                </ul>
                <p>Тодi цiна n-рiчної облiгацiї з купоном має дорiвнювати цiнi вказаного портфелю. Вартiсть кожної з перших n облiгацiй рiвна \( P_k \) на одиницю номiналу, k = 1, n, тобто \( y_c^n P_k \), а вартiсть останньої рiвна \( P_n \). Тодi маємо рiвнiсть:</p>
                <div class="formula">\( 1 = y_c^n(P_1 + \ldots + P_n) + P_n \)</div>
                <div class="formula">\( y_c^n = \frac{1 - P_n}{P_1 + \ldots + P_n} \)</div>
                <div class="formula">\( y_c^n = \frac{1 - (1 + r_n)^{-n}}{(1 + r_1)^{-1} + \ldots + (1 + r_n)^{-n}} \)</div>
            </div>

            <div class="forward-topic">
                <h3>Грошовi iндикатори для аналiзу iнвестицiйних проектiв</h3>
                <p>Перше, з чого починається аналiз iнвестицiйного проекту - це визначення його грошового потоку. Грошовi потоки можуть бути дуже рiзними:</p>
                <ul>
                    <li>Найпростiший випадок коли весь грошовий потiк (iнвестицiй та прибуткiв) зафiксований.</li>
                    <li>Може бути ситуацiя коли вiдомий лише потiк прибуткiв, а розмiр iнвестицiї може варiюватися, як за розмiром так i за часом.</li>
                    <li>Може бути ситуацiя коли зафiксовано лише потiк iнвестицiй, а прибутки можуть варiюватися.</li>
                    <li>Типовою для iнвестування в реальний сектор (бiзнес) є ситуацiя коли нi прибутки нi видатки не є зафiксованими.</li>
                </ul>
                <p>Вважатимемо, що грошовий потiк вiдомий. Тодi обчислимо рiзнi характеристики цього грошового потоку, для того, щоб можна було порiвнювати рiзнi проекти.</p>
                <p>Першою характеристикою грошового потоку пов'язаного з iнвестицiйним проектом є сучасна вартiсть:</p>
                <div class="formula">\( PV = \sum_{k \geq 1} C_k\nu^{t_k} + \int_0^{\infty} \rho(t)\nu^t dt \)</div>
                <p>за умови, що вiдсоткова ставка стала.</p>
                <p>Наступною характеристикою є прибутковiсть, або розв'язок рiвняння вартостей.</p>
                <p>Iншою важливою характеристикою є рентабельнiсть. Для спрощення, припустимо, що грошовий потiк складається з однiєї iнвестицiї в момент 0 розмiру C, та грошового потоку прибуткiв \( \{(C_k, t_k), k \geq 1\}, \rho(t) \). Тодi рентабельнiсть це величина:</p>
                <div class="formula">\( \frac{\sum_{k \geq 1} C_k + \int_0^{\infty} \rho(t)dt}{C} \)</div>
            </div>

            <div class="forward-topic">
                <h3>Тривалiсть та волатильнiсть</h3>
                <p>Середнiй час надходження платежiв визначається за формулою:</p>
                <div class="formula">\[ \frac{\sum_{k \geq 1} t_k C_k + \int_0^{\infty} t\rho(t)dt}{\sum_{k \geq 1} C_k + \int_0^{\infty} \rho(t)dt} \]</div>
                <p>Розглядається також дисконтований середнiй час, або тривалiсть грошового потоку:</p>
                <div class="formula">\[ \tau(i) = \frac{\sum_{k \geq 1} t_k C_k\nu^{t_k} + \int_0^{\infty} t\rho(t)\nu^t dt}{\sum_{k \geq 1} C_k\nu^{t_k} + \int_0^{\infty} \rho(t)\nu^t dt} \]</div>
                <p>Наступний iндикатор це волатильнiсть грошового потоку. Слово волатільнiсть означає мiнливiсть, i в даному контекстi ми будемо розумiти волатільнiсть як мiнливiсть по вiдношенню до змiни вiдсоткової ставки.</p>
                <p>Позначимо через V(i) сучасну вартiсть грошового потоку, як функцiю вiд i:</p>
                <div class="formula">\[ V(i) = \sum_{k \geq 1} C_k\nu^{t_k} + \int_0^{\infty} \rho(t)\nu^t dt \]</div>
                <p>Для волатільностi беруть мiнус похiдну та дiлять її на сучасну вартiсть:</p>
                <div class="formula">\[ v(i) = -\frac{V'(i)}{V(i)} \]</div>
                <div class="formula">\[ v(i) = \frac{\sum_{k \geq 1} t_k C_k\nu^{t_k+1} + \int_0^{\infty} t\rho(t)\nu^{t+1} dt}{\sum_{k \geq 1} C_k\nu^{t_k} + \int_0^{\infty} \rho(t)\nu^t dt} \]</div>
                <p>Бачимо, що мiж волатільнiстю та тривалiстю є взаємо зв'язок:</p>
                <div class="formula">\[ v(i) = \tau(i)\nu \]</div>
                <p>Зауважимо також, що якщо замiсть i розглядається (стала) iнтенсивнiсть вiдсотка δ, то волатільнiсть визначається як функцiя δ:</p>
                <div class="formula">\[ v(\delta) = -\frac{V'(\delta)}{V(\delta)} \]</div>
            </div>

            <div class="forward-topic">
                <h3>Iмунiзацiя</h3>
                <p>Для будь-якої компанiї важливо утримвати баланс доходiв та витрат не лише в абсолютних значеннях а ще i з точки зору сучасних вартостей. Тобто сучасна вартiсть доходiв повинна дорiвнювати сучаснiй вартостi витрат.</p>
                <p>Нехай прибутки розмiром \( A_1, \ldots, A_n \) надходять в моменти часу \( t_1, \ldots, t_n \), та в тi ж самi моменти часу компанiї здiйснює витрати \( L_1, \ldots, L_n \). Тут \( A_k \geq 0 \), та \( L_k \geq 0 \) причому важливо, що можлива рiвнiсть 0. Нехай вiдсоткова ставка рiвна i.</p>
                <p>Тодi позначимо сучасну вартiсть доходiв:</p>
                <div class="formula">\[ V_A(i) = \sum_{k=1}^n A_k\nu^{t_k} \]</div>
                <p>та сучасну вартiсть витрат:</p>
                <div class="formula">\[ V_L(i) = \sum_{k=1}^n L_k\nu^{t_k} \]</div>
                <p>I запишемо <strong>першу умову iмунiзацiї</strong> (за Редiнгтоном):</p>
                <div class="formula">\[ V_A(i) = V_L(i) \]</div>
                <p>Iмунiзацiя - це стратегiя управлiння активами компанiї з метою захисту вiд коливань вiдсоткових ставок.</p>
                <p>Припустимо, що вiдсоткова змiнилася з i на i'. Нам би хотiлося, щоб при цьому виконувалась нерiвнiсть \( V_A(i') \geq V_L(i') \).</p>
                <p>Розглянемо функцiю \( f(i) = V_A(i) - V_L(i) \), i ми прагнемо, щоб при малих змiнах i на i' f(i') ≥ 0, при тому, що f(i) = 0. Це означає, що i - це точка локального мiнiмуму. З математичного аналiзу вiдомо, що необхiдною умовою мiнiмуму є f'(i) = 0.</p>
                <div class="formula">\[ f'(i) = -\sum_{k=1}^n t_k(A_k - L_k)\nu^{t_k+1} = 0 \]</div>
                <p>що еквiвалентно тому, що:</p>
                <div class="formula">\[ \sum_{k=1}^n t_k A_k\nu^{t_k+1} = \sum_{k=1}^n t_k L_k\nu^{t_k+1} \]</div>
                <p>але оскiльки \( V_A(i) = V_L(i) \) то можемо роздiлити обидвi частини останньої рiвностi на \( V_A(i) \) та \( V_L(i) \):</p>
                <div class="formula">\[ v_A(i) = v_L(i) \]</div>
                <p>де v - це волатільнiсть. Це є <strong>другою умовою iмунiзацiї</strong> (за Редiнгтоном).</p>
                <p>Є ще <strong>достатня умова iмунiзацiї</strong>, вона полягає в тому, що достатньою умовою локального мiнiмуму є умова f''(i) > 0:</p>
                <div class="formula">\[ c_A(i) > c_L(i) \]</div>
                <p>де c - називається опуклiстю. Це є <strong>третьою, або достатньою умовою iмунiзацiї</strong> за Редiнгтоном.</p>
                <p>Якщо виконанi умови (1)-(3) то кажуть, що компанiя є iмунiзованою вiдносно малих змiн у вiдсотковiй ставцi.</p>
            </div>
            
            <div class="forward-topic">
                <h3>Задача з iмунiзацiї</h3>
                <div class="example">
                    <strong>Задача 12.12:</strong> Маємо послiдовнiсть виплат, розмiром 100 тис. наприкiнцi кожного з наступних 5 рокiв. Отже послiдовнiсть витрат \( L_k = 100, t_k = k, k = 1, 5 \).
                    Прибутки надiйдуть з двох облiгацiй, без купонiв, через один та 5 рокiв, позначимо \( A_1 \) та \( A_2 \), вiдповiдно \( t_1 = 1, t_2 = 5, i = 0.05 \).
                    <br><br>
                    Обчислимо сучасну вартiсть пасивiв:
                    \[ V_L(i) = 100a_5 = 100 \frac{1 - \nu^5}{i} = 100 \cdot \frac{1 - 1.05^{-5}}{0.05} = 432.9477 \]
                    
                    Формула для тривалостi:
                    \[ \tau_L(i) = \frac{100 \sum_{k=1}^5 k\nu^k}{V_L(i)} = \frac{1256.639}{432.9477} = 2.9 \]
                    
                    Обчислимо сучасну вартiсть \( A_1 \) та \( A_2 \) використавши першу та другу умови iмунiзацiї, помiтивши, що \( v(i) = \nu\tau(i) \). Тобто маємо два рiвняння:
                    \[ V_A(i) = A_1\nu + A_2\nu^5 = V_L(i) \]
                    \[ \frac{A_1\nu + 5A_2\nu^5}{V_A(i)} = \tau_L(i) \]
                    
                    Розв'язуючи систему рiвнянь:
                    \[ A_2 = 262.46, \quad A_1 = 238.6628 \]
                </div>
            </div>
        </div>

        <!-- BONDS SECTION -->
        <div id="bonds" class="content-section">
            <h2>💰 Облігації</h2>

            <div class="bonds-section">
                <h3>1. Основні поняття</h3>
                <div class="definition"><strong>Облігація:</strong> Борговий цінний папір, який обертається на ринку і може бути перепроданий. Вартість облігації може змінюватися залежно від ринкових умов.</div>
                <ul>
                    <li><strong>Емітент:</strong> Той, хто випустив облігацію (боржник)</li>
                    <li><strong>Власник (утримувач):</strong> Той, хто купив облігацію (кредитор)</li>
                </ul>
                <div class="note">Дві причини купувати облігації: отримати фіксований грошовий потік та спекулятивний прибуток при перепродажі.</div>
            </div>

            <div class="bonds-section">
                <h3>2. Параметри облігацій</h3>
                <ul>
                    <li><strong>T:</strong> Строк дії облігації (в роках)</li>
                    <li><strong>N:</strong> Номінал облігації</li>
                    <li><strong>P:</strong> Ціна облігації на одиницю номіналу</li>
                    <li><strong>D:</strong> Розмір купонної ставки</li>
                    <li><strong>R:</strong> Погашення облігації на одиницю номіналу</li>
                    <li><strong>g = D/R:</strong> Купонна ставка на одиницю погашення</li>
                    <li><strong>p:</strong> Кількість виплат купонів на рік</li>
                    <li><strong>i або i^(p):</strong> Ефективна (або номінальна) відсоткова ставка</li>
                </ul>
            </div>

            <div class="bonds-section">
                <h3>3. Ризики інвестування в облігації</h3>
                <ul>
                    <li><strong>Ризик дефолту:</strong> Неспроможність емітента виконати свої зобов'язання</li>
                    <li><strong>Ризик інфляції:</strong> Зниження купівельної спроможності отриманих доходів</li>
                    <li><strong>Ризик недоотримання прибутку:</strong> Можливість кращих альтернативних інвестицій</li>
                </ul>
            </div>

            <div class="bonds-section">
                <h3>4. Формула Мейкема</h3>
                <div class="definition"><strong>Базова формула:</strong> \( A = \frac{g(1-t_1)}{i^{(p)}}(C-K) + K \).</div>
                <div class="note">Умови застосування формули Мейкема:</div>
                <ul>
                    <li>Погашення і купівля позики відбуваються в моменти купонних виплат</li>
                    <li>Податок нараховується негайно після сплати купону</li>
                    <li>Купонна ставка D та розмір податку t₁ сталі</li>
                </ul>
            </div>

            <div class="bonds-section">
                <h3>5. Вплив податків</h3>
                <div class="definition"><strong>Податок на прибуток (t₁):</strong> Стягується з купонних виплат DN</div>
                <div class="definition"><strong>Податок на приріст капіталу (t₂):</strong> Стягується з суми (R-P)N, якщо вона додатна</div>
                <div class="important">Умова наявності приросту капіталу: \( i^{(p)} \geq g(1-t_1) \)</div>
                <div class="formula">\( A^0 = \frac{(1-t_2)K + (1-t_1)I}{1-t_2K/C} \)</div>
            </div>

            <div class="bonds-section">
                <h3>6. Приклад розрахунку</h3>
                <div class="example">
                    <strong>Умова:</strong> Облігація номіналом 100 грн, погашається за 110 грн через 5 років, купон 8% двічі на рік, продається за 80 грн.<br><br>
                    <strong>Параметри:</strong> T=5, N=100, R=1.1, D=8%, p=2, P=0.8<br><br>
                    <strong>Рівняння вартостей:</strong><br>
                    \( 80 = 4 \cdot 2a_{5}^{(2)} + 110 \cdot \nu^5 \)<br><br>
                    <strong>Результат:</strong> i ≈ 15.77%
                </div>
            </div>

            <div class="bonds-section">
                <h3>7. Практичні завдання</h3>
                <div class="note">
                    <strong>Типові задачі:</strong>
                    <ul>
                        <li>Обчислення ціни облігації за заданою ставкою</li>
                        <li>Знаходження ефективної ставки за відомою ціною</li>
                        <li>Урахування податків при розрахунках</li>
                        <li>Обчислення реальної прибутковості з урахуванням інфляції</li>
                        <li>Аналіз впливу терміну до погашення на ціну</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- CREDIT SECTION -->
        <div id="credits" class="content-section">
            <h2>💳 Споживчий кредит</h2>

            <div class="credit-topic">
                <h3>1. Визначення та основні формули</h3>
                <div class="definition"><strong>Споживчий кредит:</strong> Грошовий потік, де одна виплата L (сума кредиту) в нульовий момент, потім потік платежів Xk в моменти t1, ..., tN.</div>
                <p>Рекурсивне співвідношення для залишку боргу Ak після k-го платежу (де A0 = L):</p>
                <div class="formula">\( A_k = A_{k-1}(1+i)^{t_k - t_{k-1}} - X_k \)</div>
                <p>Залишок боргу An після n-того платежу (загальна формула):</p>
                <div class="formula">\( A_n = L(1 + i)^{t_n} - \sum_{k=1}^{n} X_k (1 + i)^{t_n - t_k} \)</div>
                <p>За умови AN = 0 (повне погашення), сума кредиту L:</p>
                <div class="formula">\( L = \sum_{k=1}^{N} X_k \nu^{t_k} \)</div>
                <div class="note">Кожна виплата Xk = fk (капітальна складова, погашення тіла боргу) + gk (відсоткова складова, прибуток банку). \( L = \sum_{k=1}^{N} f_k \)</div>
            </div>

            <div class="credit-topic">
                <h3>2. Залишок боргу</h3>
                <div class="definition"><strong>Теорема про залишок боргу:</strong> Залишок боргу Ft в будь-який момент часу t < tN дорівнює сучасній вартості на момент t всіх майбутніх платежів по боргу, які залишилися.</div>
                <p>Залишок боргу Ftn після n-го платежу в момент tn:</p>
                <div class="formula">\( F_{t_n} = A_n = \sum_{k=n+1}^{N} X_k \nu^{t_k - t_n} \)</div>
                <p>Залишок боргу Ft в довільний момент часу t (де \( t_{n(t)} \le t < t_{n(t)+1} \), і n(t) - номер останнього здійсненого платежу):</p>
                <div class="formula">\( F_t = F_{t_{n(t)}} (1 + i)^{t-t_{n(t)}} = \sum_{k=n(t)+1}^{N} X_k \nu^{t_k - t} \)</div>
            </div>

            <div class="credit-topic">
                <h3>3. Графік виплати стандартного боргу</h3>
                <p>Стандартний борг: L = an (сучасна вартість ануїтету), платежі по 1 в кінці кожного з n років.</p>
                <ul>
                    <li>Залишок на початок року t (після t-1 платежів): \( F_{t-1} = a_{n-(t-1)} = a_{n-t+1} \)</li>
                    <li>Відсоткова складова платежу gt (в кінці року t): \( g_t = F_{t-1} \cdot i = a_{n-t+1} \cdot i = 1 - \nu^{n-t+1} \)</li>
                    <li>Капітальна складова платежу ft: \( f_t = 1 - g_t = \nu^{n-t+1} \)</li>
                    <li>Залишок на кінець року t (після t платежів): \( F_t = F_{t-1} - f_t = a_{n-t} \)</li>
                </ul>
                <div class="note">Якщо платежі X відбуваються p разів на рік, то розглядається p*n періодів зі ставкою i/p (або відповідною ефективною ставкою за період).</div>
            </div>

            <div class="credit-topic">
                <h3>4. Незмінна відсоткова ставка (Flat Rate)</h3>
                <div class="definition">Якщо D - загальна сума всіх відсотків (переплата), L - сума кредиту, k - кількість років (термін кредиту в роках): <br>Незмінна ставка (річна): \( F = \frac{D}{L \cdot k} \). <br> Тоді \( D = L \cdot F \cdot k \). Загальна сума до повернення \( L+D \). <br> Якщо n - загальна кількість платежів, то розмір одного платежу: \( X = \frac{L(1+Fk)}{n} \).</div>
                <p>Зв'язок з ефективною річною ставкою i (наближення):</p>
                <div class="formula">\( i \approx 2F \frac{n}{n+1} \)</div>
                <div class="formula">\( i \approx \frac{2F}{1 + \frac{1}{n} + \frac{F}{3m}(1-\frac{3m-2}{n})) \) (спрощена форма: \( i \approx 2F \frac{n_{total}}{n_{total}+1} \) якщо F перерахована на період) </div>
                 <div class="note">Ці формули є наближеними. Точна ефективна ставка (APR) розраховується з рівняння вартостей.</div>
            </div>

            <div class="credit-topic">
                <h3>5. Дострокове погашення та Правило "78"</h3>
                <div class="definition"><strong>Стандартне дострокове погашення:</strong> Боржник повертає залишок боргу, розрахований як сучасна вартість всіх платежів, що залишилися, дисконтованих за початковою ефективною ставкою.</div>
                <p>Недоотримані банком відсотки (O) при стандартному погашенні, якщо D - загальна переплата за весь термін, залишилось m виплат з n загальних:</p>
                <div class="formula">\( O = D \cdot \frac{m - a_m}{n - a_n} \) (де ануїтети розраховані за ефективною ставкою)</div>
                
                <div class="definition"><strong>Правило "78" (Rule of Sum of Digits):</strong> Альтернативний метод розподілу загальної суми відсотків D. Сума відсотків ділиться на N = n(n+1)/2 частин (де n - кількість платежів). В k-му періоді нараховується (n-k+1) таких частин відсотків.</div>
                <div class="formula">\( g_k = D \cdot \frac{n-k+1}{n(n+1)/2} = \frac{2D(n-k+1)}{n(n+1)} \)</div>
                <div class="formula">\( O' = D \cdot \frac{m(m+1)/2}{n(n+1)/2} = D \cdot \frac{m(m+1)}{n(n+1)} \)</div>
                <div class="important">При використанні правила "78" більша частина відсотків виплачується на ранніх етапах кредиту. Залишок боргу при достроковому погашенні може бути вищим, ніж при стандартному методі.</div>
                <div class="example">Борг 100 грн на 2 роки, ставка 10% річних, платежі X=57.62. Загальна переплата D=15.24.
                    <ul>
                        <li>Стандартно: g1=10. Якщо погасити через рік, компенсація O ≈ 5.24.</li>
                        <li>Правило "78" (n=2, N=3): g1* = (2/3)D ≈ 10.16. Якщо погасити через рік, компенсація O'* = (1/3)D ≈ 5.08.</li>
                    </ul>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
